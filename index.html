<!DOCTYPE html>
<html lang="es">
<head>

<meta charset="UTF-8">
<title>TallerPRO360 | Software para talleres en Colombia</title>

<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Software profesional para talleres automotrices en Colombia. Control total de 贸rdenes, veh铆culos y clientes.">
<meta name="robots" content="index, follow">

<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#16a34a">

<link rel="icon" href="/assets/logo-192.png" type="image/png">
<link rel="stylesheet" href="/assets/css/styles.css">

<style>
body{margin:0;font-family:system-ui,-apple-system,sans-serif;background:#f9fafb;}
.section{padding:80px 20px;}
.container{max-width:1200px;margin:auto;}
.center{text-align:center;}
.price{font-size:36px;font-weight:800;color:#16a34a;}
.plan{background:#fff;padding:30px;border-radius:16px;box-shadow:0 10px 25px rgba(0,0,0,0.06);transition:.3s;}
.plan:hover{transform:translateY(-6px);}
.highlight{border:3px solid #16a34a;transform:scale(1.05);}
.btn-main{background:#16a34a;color:#fff;padding:14px 22px;border:none;border-radius:12px;cursor:pointer;font-weight:700;width:100%;}
.btn-main:disabled{opacity:.6;cursor:not-allowed;}
.loader{display:none;margin-top:10px;font-size:14px;color:#555;}
</style>

</head>

<body>

<section class="section center">
<h1>Planes TallerPRO360</h1>
<p>Empieza peque帽o. Crece sin l铆mites.</p>
</section>

<section class="section">
<div class="container" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:30px;">

<div class="plan">
<h3>B谩sico</h3>
<p class="price">$29.900 <span style="font-size:16px;color:#666;">/ mes</span></p>
<ul>
<li>Hasta 30 贸rdenes</li>
<li>3 usuarios</li>
<li>Historial clientes</li>
</ul>
<button class="btn-main" onclick="iniciarPago('basico', this)">Comenzar ahora</button>
<div class="loader">Redirigiendo a MercadoPago...</div>
</div>

<div class="plan highlight">
<h3>PRO</h3>
<p class="price">$59.900 <span style="font-size:16px;color:#666;">/ mes</span></p>
<ul>
<li>150 贸rdenes</li>
<li>6 usuarios</li>
<li>Diagn贸stico por voz</li>
</ul>
<button class="btn-main" onclick="iniciarPago('pro', this)">Actualizar a PRO</button>
<div class="loader">Redirigiendo a MercadoPago...</div>
</div>

<div class="plan">
<h3>PRO Anual</h3>
<p class="price">$599.000 <span style="font-size:16px;color:#666;">/ a帽o</span></p>
<ul>
<li>rdenes ilimitadas</li>
<li>20 usuarios</li>
<li>Soporte premium</li>
</ul>
<button class="btn-main" onclick="iniciarPago('pro_anual', this)">Elegir plan anual</button>
<div class="loader">Redirigiendo a MercadoPago...</div>
</div>

</div>
</section>

<footer class="section center">
<p>TallerPRO360 漏 2026 路 SaaS profesional </p>
</footer>

<script>
async function iniciarPago(plan, boton) {

  boton.disabled = true;
  boton.nextElementSibling.style.display = "block";

  try {

    const response = await fetch("/api/create-preference", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({ plan })
    });

    const data = await response.json();

    if (data.init_point) {
      window.location.href = data.init_point;
    } else {
      throw new Error("No se recibi贸 init_point");
    }

  } catch (error) {
    console.error("Error:", error);
    alert("Error iniciando el pago. Intenta nuevamente.");
    boton.disabled = false;
    boton.nextElementSibling.style.display = "none";
  }

}
</script>

</body>
</html>