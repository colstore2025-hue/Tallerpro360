<!DOCTYPE html>
<html lang="es">
<head>

<meta charset="UTF-8">
<title>TallerPRO360 | Software para talleres en Colombia</title>

<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Software profesional para talleres automotrices en Colombia. Control total de Ã³rdenes, vehÃ­culos y clientes.">

<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#16a34a">

<link rel="icon" href="/assets/logo-192.png" type="image/png">
<link rel="stylesheet" href="/assets/css/styles.css">

<style>
body{margin:0;font-family:system-ui,-apple-system,sans-serif;background:#f9fafb;}
.hero-bg{background:linear-gradient(135deg,#ecfdf5,#eff6ff);}
.section{padding:80px 20px;}
.container{max-width:1200px;margin:auto;}
.center{text-align:center;}
.price{font-size:36px;font-weight:800;color:#16a34a;}
.plan{background:#fff;padding:30px;border-radius:16px;box-shadow:0 10px 25px rgba(0,0,0,0.06);transition:.3s;}
.plan:hover{transform:translateY(-6px);}
.highlight{border:3px solid #16a34a;transform:scale(1.05);}
.btn-main{background:#16a34a;color:#fff;padding:14px 22px;border:none;border-radius:12px;cursor:pointer;font-weight:700;width:100%;}
.btn-main:disabled{opacity:.6;cursor:not-allowed;}
.loader{display:none;margin-top:10px;font-size:14px;color:#555;}
.footer{background:#f3f4f6;padding:40px 20px;}
</style>

</head>
<body>

<!-- HERO -->
<section class="section hero-bg center">
<img src="/assets/logo-192.png" width="90">
<h1 style="font-size:42px;font-weight:900;margin-top:20px;">
Control total de tu taller
</h1>
<p style="margin-top:15px;font-size:18px;color:#555;">
Desde el ingreso hasta la entrega. Todo digital, profesional y organizado.
</p>
</section>

<!-- PLANES -->
<section class="section">
<div class="container" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:30px;">

<!-- BÃSICO -->
<div class="plan">
<h3>BÃ¡sico</h3>
<p class="price">$29.900 <span style="font-size:16px;color:#666;">/ mes</span></p>
<ul>
<li>âœ” Hasta 30 Ã³rdenes</li>
<li>âœ” 3 usuarios</li>
<li>âœ” Historial clientes</li>
</ul>
<button class="btn-main" onclick="iniciarPago('basico', this)">Comenzar ahora</button>
<div class="loader">Redirigiendo a MercadoPago...</div>
</div>

<!-- PRO -->
<div class="plan highlight">
<h3>PRO</h3>
<p class="price">$59.900 <span style="font-size:16px;color:#666;">/ mes</span></p>
<ul>
<li>âœ” 150 Ã³rdenes</li>
<li>âœ” 6 usuarios</li>
<li>âœ” DiagnÃ³stico por voz</li>
<li>âœ” Evidencias fotogrÃ¡ficas</li>
</ul>
<button class="btn-main" onclick="iniciarPago('pro', this)">Actualizar a PRO</button>
<div class="loader">Redirigiendo a MercadoPago...</div>
</div>

<!-- PRO ANUAL -->
<div class="plan">
<h3>PRO Anual</h3>
<p class="price">$599.000 <span style="font-size:16px;color:#666;">/ aÃ±o</span></p>
<ul>
<li>âœ” Ã“rdenes ilimitadas</li>
<li>âœ” 20 usuarios</li>
<li>âœ” Soporte premium</li>
</ul>
<button class="btn-main" onclick="iniciarPago('pro_anual', this)">Elegir plan anual</button>
<div class="loader">Redirigiendo a MercadoPago...</div>
</div>

</div>
</section>

<footer class="footer center">
<p>TallerPRO360 Â© 2026 Â· SaaS profesional ðŸ‡¨ðŸ‡´</p>
</footer>

<script>
async function iniciarPago(plan, boton) {

  boton.disabled = true;
  const loader = boton.nextElementSibling;
  loader.style.display = "block";

  try {

    const response = await fetch("/api/create-preference", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({ plan })
    });

    if (!response.ok) {
      throw new Error("Error en servidor");
    }

    const data = await response.json();

    if (!data.init_point) {
      throw new Error("No se recibiÃ³ init_point");
    }

    window.location.href = data.init_point;

  } catch (error) {

    console.error("Error iniciando pago:", error);

    alert("Error iniciando el pago. Intenta nuevamente.");

    boton.disabled = false;
    loader.style.display = "none";
  }
}
</script>

</body>
</html>